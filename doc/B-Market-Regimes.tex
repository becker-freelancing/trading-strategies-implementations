\section{Market Regimes}
\label{chap:market-regimes}

Cryptocurrency markets are subject to constant change, which is reflected not only in price movements but also in the underlying structures and dynamics.
In quantitative analysis and algorithmic trading, understanding these changes is essential for developing and adapting robust trading strategies.
A central concept in this context is the idea of market regimes.

\subsection{Introduction to Market Regimes}


Market regimes describe phases with distinct statistical and economic characteristics, such as volatility and trend behavior.
They can be understood as different \textit{states} of the market in which certain trading patterns dominate.
Distinguishing between, for example, upward, sideways, and downward trends or high and low volatility enables more targeted strategy selection and adaptation.
Accordingly, the identification and classification of market regimes play an increasingly important role in modern trading analysis.
For example, a strategy that performs well in a stable uptrend may fail during sideways movements or periods of high volatility \cite{macrosynergy-market-regime-introduction}.


Understanding market regimes enables traders and analysts to design strategies that are adaptive and therefore more robust.
Through targeted adaptation of parameters or the selection of different models, performance can be increased and risk reduced.



\subsection{How to Categorize the Market?}
\label{chap:market-regime-categories}

Categorizing different market characteristics is a common step in identifying market regimes.
In literature and practical applications, different approaches to classifying markets exist.
A fundamental categorization is often made by the following dimensions:

\begin{enumerate}
    \item \textbf{Trend behavior:} Markets can be categorized trend following (bullish/ bearish) or trendless (sideways) \cite{regime-trend}.
    \item \textbf{Volatility:} The volatility of a market is often an indicator for insecurity or stability \cite{regime-vola}.
    High volatility can indicate periods of stress, while low volatility indicates calm markets.
    \item \textbf{Liquidity:} In illiquid markets, pricing processes can differ significantly from those in liquid markets, which can affect the performance of trading strategies \cite{regime-liq}.
\end{enumerate}

\noindent
According to the analysis goal, the categorization can be binary (e.g., bullish vs. bearish) or granular (e.g., a combination of trend behavior, and volatility).
While binary classification may be sufficient for high-level market orientation, more granular categorization enables a finer distinction of market conditions.

In the current context, the market is categorized by trend behavior and volatility.
This results in six categories:

\newpage
\begin{enumerate}
    \item Downtrend + Low Volatility
    \item Downtrend + High Volatility
    \item Sideways Trend + Low Volatility
    \item Sideways Trend + High Volatility
    \item Uptrend + Low Volatility
    \item Uptrend + High Volatility
\end{enumerate}

\noindent
This takes into account the two most central aspects that lead traders to different trading decisions.

\subsection{Recognizing Market Regimes}

As described in \autoref{chap:market-regime-categories}, the market will be divided into six categories, which are the result of combinations of two individual categories.
This makes it possible to categorize the market into two individual categories individually and finally merge them.

\subsubsection{Recognizing Trend Behavior}
\label{chap:recognizing-trend}

The first step is to categorize the market into uptrends, downtrends, and sideways trends.
Commonly, a combination of a short-term simple moving average (e.g., SMA(50)) and a long-term simple moving average (e.g., SMA(200)) is used to identify superior trends.
The SMA(200) is considered the classic boundary between bullish and bearish market phases.
If the short-term simple moving average is above the long-term simple moving average, the market is considered bullish.
Vice versa, if the short-term simple moving average is below the long-term simple moving average, the market is considered bearish \cite{ig-regimes-mas}.

For the purpose of the current context, a modified combination of SMA(50) and SMA(100) was chosen.
This decision is based on two considerations:

\begin{enumerate}
    \item \textbf{Faster reaction:} The SMA(100) is intended to achieve faster reaction to medium-term trend changes without heavily weighting short-term volatility.
    \item \textbf{Inertia of trend definition:} A shorter trend window, compared to the SMA(200) reduces the inertia of trend definition, which can be particularly advantageous for more refined classification into uptrends, downtrends, and sideways trends.
\end{enumerate}

\noindent
Additionally, a minimum slope threshold over the last 15 minutes was integrated for the SMA(50) to avoid minimal direction changes being mistakenly interpreted as a meaningful trend.
This short time span ensures that current market movements are adequately incorporated into the trend classification without being dominated by short-term noise (e.g., individual volatility peaks), and therefore increases the robustness of the trend recognition and addresses the weaknesses of simple moving averages in sideways phases.
A slope above +0.05 signals a significant uptrend, while a slope below -0.05 suggests a clear downtrend.
Values in between are interpreted as ambiguous and are included in the sideways classification accordingly.

The threshold of $\pm 0.05$ was determined using a targeted, visually supported trial-and-error approach.
Different values were gradually tested within a range from $\pm 0.01$ to $\pm 0.15$, and the graphical trend classification was assessed against historical charts.
Values below $\pm 0.05$ lead to hypersensitivity to short-term market noise, while values above $\pm 0.05$ detect genuine trend reversals too late.
Only with a threshold of $\pm 0.05$ meaningful up- and downtrends could be detected consistently.
Despite the lack of a formal optimization framework, this heuristic-guided approach enables a robust separation between noise and relevant market movements.

The market can therefore be divided into three trend phases based on the following criteria:

\begin{enumerate}
    \item \textbf{Uptrend:} The SMA(50) is above the SMA(100), and the slope of the SMA(50) in the last 15 minutes is greater than 0.05.
    \item \textbf{Downtrend:} The SMA(50) is below the SMA(100), and the slope of the SMA(50) in the last 15 minutes is less than -0.05.
    \item \textbf{Sideways trend:} The market currently does not meet condition 1 or 2.
\end{enumerate}

\noindent
\autoref{fig:mr-trend-classification} shows an example of trend classification of ETH/USDC M1 over 700 minutes.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{images/market-regime/market_regime_trend}
    \caption{Trend Classification}
    \label{fig:mr-trend-classification}
\end{figure}

\subsubsection{Recognizing Volatility}
\label{chap:recognizing-vola}

The second step is to categorize the market into phases with high and low volatility.
The volatility is calculated as the standard deviation of the logarithmic returns over the last 30 minutes \cite{wiki-vola}.
This locally calculated volatility depicts short-term fluctuation intensity and enables a context-dependent assessment of current market behavior.

To classify this local volatility, a comparison is made with the median of all available volatilities in the training dataset, which was used for fitting the volatility classification indicator.
If the current volatility is greater than the median, the market is classified as highly volatile.
Otherwise, the market is classified as low volatility.

This threshold definition is deliberately based on a dynamic, data-dependent approach rather than using a fixed absolute threshold.
This automatically adapts the volatility classification to each specific market, and can therefore theoretically be applied to other financial markets.

\autoref{fig:mr-vola-classification} shows the volatility classification using the same base data as in \autoref{fig:mr-trend-classification}.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{images/market-regime/market_regime_vola}
    \caption{Volatility Classification}
    \label{fig:mr-vola-classification}
\end{figure}

\subsubsection{Combining Trend and Volatility Classification}

After the two separate classifications in \autoref{chap:recognizing-trend} and \autoref{chap:recognizing-vola}, the results can be combined.
The results of the combination can be seen in \autoref{fig:mr-classification}.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{images/market-regime/market_regime}
    \caption{Regime Classification}
    \label{fig:mr-classification}
\end{figure}

\noindent
While classifying the market regimes, some discrepancies may occur in individual cases between the algorithmically determined category and the visually perceived category.
Such misclassifications are particularly possible during transition phases or in the case of short-term outliers.
For example, the downtrend, highly volatile market regime after 10:00 PM, the algorithm detected a downtrend, but visually, an uptrend is perceived.
At this time, the market is in a transition, which causes this misclassification.

Crucially, the classification distinguishes consistently and meaningfully, which is evident when viewed as a whole.
The robustness and usefulness of the approach do not arise from absolute freedom from errors, but rather from the systematic reduction of uncertainty compared to a purely visual or subjective assessment.

\subsection{Dividing Market Regimes in Durations}

Based on the combination of trend direction and volatility level, the duration of each market regime is also taken into account to enable a more differentiated classification.
The regime duration is divided into three quantiles (33\%, 66\%, 100\%) based on its distribution, allowing classification into short-term, medium-term, and long-term phases.
The notation in the current work for the respective regime durations is $Q_{0.33}$, $Q_{0.66}$, and $Q_{1}$.

It should be noted that the duration used to distinguish between $Q_{0.33}$, $Q_{0.66}$, and $Q_{1}$ is calculated per regime across all durations, not within a single occurrence of a regime.
For example, if a low-volatility uptrend emerges, it may only be in $Q_{0.33}$ and then transition into a high-volatility uptrend that initially occurs in $Q_{0.33}$ before moving to $Q_{0.66}$.

\autoref{tbl:regime-durations} shows the duration in minutes that a regime must last to reach the respective quantile.


\begin{table}[H]
    \centering
    \input{tables/regime-durations}
    \caption{Regime Durations}
    \label{tbl:regime-durations}
\end{table}

\noindent
The combination of these three dimensions results in a total of 18 different market regimes.
This fine-grained segmentation makes it possible to more precisely capture and differentiate different market conditions.
For example, it distinguishes a short-term, volatile uptrend from a long-term, calm downtrend.

Even though this makes the market appear more fragmented and regimes can change more frequently, this finer subdivision is analytically useful.
It allows for context-sensitive market behavior to be examined and differences in the dynamics of effectiveness of trading strategies in specific regime types to be systematically analyzed.

Instead of smoothing out reality with overly broad categories, a more nuanced picture is deliberately presented that takes into account both the direction, intensity, and stability of market behavior.
The resulting increased complexity is not a disadvantage, but rather a prerequisite for more meaningful, context-based analyses.
