\section{Data Source and Broker Selection}
\label{chap:broker}

Cryptocurrency brokers (also called crypto brokers) play an important role in cryptocurrency trading.
Among other things, they act as intermediaries between different market participants.
Their key tasks include:

\begin{enumerate}
    \item \textbf{Providing access:} Individuals can participate in the market through a broker and thereby trade various cryptocurrencies.
    This includes executing orders such as buying cryptocurrencies at the lowest available price or selling them at the highest available price.
    \item \textbf{Security and compliance:} They also provide customers with a secure platform for executing transactions and adhere to the financial regulations established by authorities.
    \item \textbf{Leveraging:} Brokers offer customers the opportunity to borrow money, and thus trade with more capital than they actually have in their account.
\end{enumerate}


\noindent
This has the advantage that trading with cryptocurrencies is much easier and safer, but one of the biggest disadvantages is the fees that are incurred when using \cite{broker-investing}.

\subsection{Broker Selection}
\label{chap:broker-selection}

For this paper, one broker must be selected for data retrieval and live testing.
Since the process is fully automated in short time-frames, the broker must meet certain requirements.

The API must be able to stream market data, request historical data, the current account balance, closed trades, and currently open positions, placing orders, and positions, as well as canceling unfilled orders.

Apart from the API, the broker must support leveraged long/short products like CFDs or margin trading, with the lowest possible fees.
They also must provide data in high quality as well as a demo depot.

\autoref{tbl:broker-comparision} summarizes the required features for some potential brokers.
All listed there meet the API functionality requirements.\footnote{Sources: \cite{bybit-home}, \cite{bybit-api-doc}, \cite{ig-home}, \cite{ig-api-doc}, \cite{capital-home}, \cite{capital-api-doc}}

\begin{table}[H]
    \small
    \centering
    \begin{tabular}{L{2cm} P{3.5cm} c c P{2cm}}
        \toprule
        \textbf{Broker} & Tradable assets & \multicolumn{2}{c}{\makecell{Fees}} & Leverage \\
        &                                            & Maker  & Taker   &      \\
        \midrule
        \textbf{ByBit} & Spot, Spot with Leverage, Futures, Options & 0.02\% & 0.055\% & 10:1 \\
        \addlinespace[0.8em]
        \textbf{IG} & CFDs, Knock-out-Options & \multicolumn{2}{c}{Spread (approx.
        \$1.30)} & 2:1 \\
        \addlinespace[0.8em]
        \textbf{Capital.com} & CFDs & \multicolumn{2}{c}{Spread (approx.
        \$1.75)} & 2:1 \\
        \bottomrule
    \end{tabular}
    \caption{Broker Comparison}
    \label{tbl:broker-comparision}
\end{table}


\noindent
Although ByBit's fees are calculated as a percentage of the transaction volume, they are lower overall than those charged by IG or Capital.com.
The average price of ETH is approximately 2280 USDC \footnote{The average price was calculated using all data collected in \autoref{chap:api-connection}}.
Based on the average ETH price, ByBit's fees are approximately 1.25 USDC for a taker order and 0.45 USDC for a maker order per ETH bought or sold.
This means it is possible to save up to 1.3 USDC compared to IG and Capital.

Taking into account \autoref{tbl:broker-comparision}, ByBit is the best broker because it has the lowest fees, high quality data, as well as the highest possible leverage.

\subsection{API Connection and Data Retrieval Process}
\label{chap:api-connection}

Before starting with the Machine Learning process, and the backtests, the first step is to download historical \ethusdc~ data via the ByBit API.
The request was executed on the \texttt{/v5/market/kline} API-Endpoint \cite{bybit-api-doc-get-kline} with the category \verb|linear|, symbol \verb|ETHPERP|, and interval \verb|1| at \ethDataEndDate.
Since ByBit only returns 1000 candlesticks per request, the same request with different start-, and end-times was executed until the ByBit API does no longer return older candlestick data.
This resulted in a candlestick data pool with data on a minute basis from \ethDataStartDate~ to \ethDataEndDate.
Chapter \ref{chap:eda} will go into more detail about the data.

% TODO: Sequenzdiagramm??